<h1>Shifts#show</h1>
<p>作成日時：<%= @shift.created_at %></p>
<p>公休数：<%= @shift.shop.holiday %></p>
<p>店舗名：<%= @shift.shop.name %></p>
<p>年：<%= @shift.year %></p>
<p>月：<%= @shift.month %></p>

<table border="1" >
    <tr>
        <th></th>
        <% case @shift.month %>
            <% when 2 then %>
                <% [*1..28].each do |int| %>
                    <th><%= int %></th>
                <% end %>
            <% when 4 , 6 , 9 , 11 then %>
                <% [*1..30].each do |int| %>
                    <th><%= int %></th>
                <% end %>
            <% else %>
                <% [*1..31].each do |int| %>
                    <th><%= int %></th>
                <% end %>
        <% end %>
    </tr>
    <% @workers.each do |worker| %>
        <tr>
            <th rowspan="2"><%= worker.staff.name %></th>
            <td>
                <% if worker.day1.blank? %>
                    指定なし
                <% else %>
                    <%= @work_patterns.find(worker.day1).name %>
                <% end %>
            </td>
            <td>
                <% if worker.day2.blank? %>
                    指定なし
                <% else %>
                    <%= @work_patterns.find(worker.day2).name %>
                <% end %>
            </td>
            <td>
                <% if worker.day3.blank? %>
                    指定なし
                <% else %>
                    <%= @work_patterns.find(worker.day3).name %>
                <% end %>
            </td>
            <td>
                <% if worker.day4.blank? %>
                    指定なし
                <% else %>
                    <%= @work_patterns.find(worker.day4).name %>
                <% end %>
            </td>
            <td>
                <% if worker.day5.blank? %>
                    指定なし
                <% else %>
                    <%= @work_patterns.find(worker.day5).name %>
                <% end %>
            </td>
            <td>
                <% if worker.day6.blank? %>
                    指定なし
                <% else %>
                    <%= @work_patterns.find(worker.day6).name %>
                <% end %>
            </td>
            <td>
                <% if worker.day7.blank? %>
                    指定なし
                <% else %>
                    <%= @work_patterns.find(worker.day7).name %>
                <% end %>
            </td>
            <td>
                <% if worker.day8.blank? %>
                    指定なし
                <% else %>
                    <%= @work_patterns.find(worker.day8).name %>
                <% end %>
            </td>
            <td>
                <% if worker.day9.blank? %>
                    指定なし
                <% else %>
                    <%= @work_patterns.find(worker.day9).name %>
                <% end %>
            </td>
            <td>
                <% if worker.day10.blank? %>
                    指定なし
                <% else %>
                    <%= @work_patterns.find(worker.day10).name %>
                <% end %>
            </td>
            <td>
                <% if worker.day11.blank? %>
                    指定なし
                <% else %>
                    <%= @work_patterns.find(worker.day11).name %>
                <% end %>
            </td>
            <td>
                <% if worker.day12.blank? %>
                    指定なし
                <% else %>
                    <%= @work_patterns.find(worker.day12).name %>
                <% end %>
            </td>
            <td>
                <% if worker.day13.blank? %>
                    指定なし
                <% else %>
                    <%= @work_patterns.find(worker.day13).name %>
                <% end %>
            </td>
            <td>
                <% if worker.day14.blank? %>
                    指定なし
                <% else %>
                    <%= @work_patterns.find(worker.day14).name %>
                <% end %>
            </td>
            <td>
                <% if worker.day15.blank? %>
                    指定なし
                <% else %>
                    <%= @work_patterns.find(worker.day15).name %>
                <% end %>
            </td>
            <td>
                <% if worker.day16.blank? %>
                    指定なし
                <% else %>
                    <%= @work_patterns.find(worker.day16).name %>
                <% end %>
            </td>
            <td>
                <% if worker.day17.blank? %>
                    指定なし
                <% else %>
                    <%= @work_patterns.find(worker.day17).name %>
                <% end %>
            </td>
            <td>
                <% if worker.day18.blank? %>
                    指定なし
                <% else %>
                    <%= @work_patterns.find(worker.day18).name %>
                <% end %>
            </td>
            <td>
                <% if worker.day19.blank? %>
                    指定なし
                <% else %>
                    <%= @work_patterns.find(worker.day19).name %>
                <% end %>
            </td>
            <td>
                <% if worker.day20.blank? %>
                    指定なし
                <% else %>
                    <%= @work_patterns.find(worker.day20).name %>
                <% end %>
            </td>
            <td>
                <% if worker.day21.blank? %>
                    指定なし
                <% else %>
                    <%= @work_patterns.find(worker.day21).name %>
                <% end %>
            </td>
            <td>
                <% if worker.day22.blank? %>
                    指定なし
                <% else %>
                    <%= @work_patterns.find(worker.day22).name %>
                <% end %>
            </td>
            <td>
                <% if worker.day23.blank? %>
                    指定なし
                <% else %>
                    <%= @work_patterns.find(worker.day23).name %>
                <% end %>
            </td>
            <td>
                <% if worker.day24.blank? %>
                    指定なし
                <% else %>
                    <%= @work_patterns.find(worker.day24).name %>
                <% end %>
            </td>
            <td>
                <% if worker.day25.blank? %>
                    指定なし
                <% else %>
                    <%= @work_patterns.find(worker.day25).name %>
                <% end %>
            </td>
            <td>
                <% if worker.day26.blank? %>
                    指定なし
                <% else %>
                    <%= @work_patterns.find(worker.day26).name %>
                <% end %>
            </td>
            <td>
                <% if worker.day27.blank? %>
                    指定なし
                <% else %>
                    <%= @work_patterns.find(worker.day27).name %>
                <% end %>
            </td>
            <td>
                <% if worker.day28.blank? %>
                    指定なし
                <% else %>
                    <%= @work_patterns.find(worker.day28).name %>
                <% end %>
            </td>
            <% case @shift.month %>
                <% when 4 , 6 , 9 , 11 then %>
                    <td>
                        <% if worker.day29.blank? %>
                            指定なし
                        <% else %>
                            <%= @work_patterns.find(worker.day29).name %>
                        <% end %>
                    </td>
                    <td>
                        <% if worker.day30.blank? %>
                            指定なし
                        <% else %>
                            <%= @work_patterns.find(worker.day30).name %>
                        <% end %>
                    </td>
                <% when 1 , 3 , 5 , 7 , 8 , 12 then %>
                    <td>
                        <% if worker.day29.blank? %>
                            指定なし
                        <% else %>
                            <%= @work_patterns.find(worker.day29).name %>
                        <% end %>
                    </td>
                    <td>
                        <% if worker.day30.blank? %>
                            指定なし
                        <% else %>
                            <%= @work_patterns.find(worker.day30).name %>
                        <% end %>
                    </td>
                    <td>
                        <% if worker.day31.blank? %>
                            指定なし
                        <% else %>
                            <%= @work_patterns.find(worker.day31).name %>
                        <% end %>
                    </td>
                <% else %>
            <% end %>
            <td nowrap><%= link_to "編集する", edit_shift_worker_path(@shift.id, worker.id) %></td>
        </tr>
        <tr>
            <td><%= worker.day1_note %></td>
            <td><%= worker.day2_note %></td>
            <td><%= worker.day3_note %></td>
            <td><%= worker.day4_note %></td>
            <td><%= worker.day5_note %></td>
            <td><%= worker.day6_note %></td>
            <td><%= worker.day7_note %></td>
            <td><%= worker.day8_note %></td>
            <td><%= worker.day9_note %></td>
            <td><%= worker.day10_note %></td>
            <td><%= worker.day11_note %></td>
            <td><%= worker.day12_note %></td>
            <td><%= worker.day13_note %></td>
            <td><%= worker.day14_note %></td>
            <td><%= worker.day15_note %></td>
            <td><%= worker.day16_note %></td>
            <td><%= worker.day17_note %></td>
            <td><%= worker.day18_note %></td>
            <td><%= worker.day19_note %></td>
            <td><%= worker.day20_note %></td>
            <td><%= worker.day21_note %></td>
            <td><%= worker.day22_note %></td>
            <td><%= worker.day23_note %></td>
            <td><%= worker.day24_note %></td>
            <td><%= worker.day25_note %></td>
            <td><%= worker.day26_note %></td>
            <td><%= worker.day27_note %></td>
            <td><%= worker.day28_note %></td>
            <% case @shift.month %>
                <% when 4 , 6 , 9 , 11 then %>
                    <td><%= worker.day29_note %></td>
                    <td><%= worker.day30_note %></td>
                <% when 1 , 3 , 5 , 7 , 8 , 12 then %>
                    <td><%= worker.day29_note %></td>
                    <td><%= worker.day30_note %></td>
                    <td><%= worker.day31_note %></td>
                <% else %>
            <% end %>
            <td nowrap><%= link_to "削除する", shift_worker_path(@shift.id, worker.id), method: :delete %></td>
        </tr>
    <% end %>
    <tr>
        <th>新規スタッフ</th>
    </tr>
    <%= form_with model: [@shift,@worker] do |f| %>
        <tr>
            <th><%= f.collection_select :staff_id, @staffs, :id, :name %></th>
            <td><%= f.collection_select :day1, @work_patterns, :id, :name, {include_blank: '指定なし'} %></td>
            <td><%= f.collection_select :day2, @work_patterns, :id, :name, {include_blank: '指定なし'} %></td>
            <td><%= f.collection_select :day3, @work_patterns, :id, :name, {include_blank: '指定なし'} %></td>
            <td><%= f.collection_select :day4, @work_patterns, :id, :name, {include_blank: '指定なし'} %></td>
            <td><%= f.collection_select :day5, @work_patterns, :id, :name, {include_blank: '指定なし'} %></td>
            <td><%= f.collection_select :day6, @work_patterns, :id, :name, {include_blank: '指定なし'} %></td>
            <td><%= f.collection_select :day7, @work_patterns, :id, :name, {include_blank: '指定なし'} %></td>
            <td><%= f.collection_select :day8, @work_patterns, :id, :name, {include_blank: '指定なし'} %></td>
            <td><%= f.collection_select :day9, @work_patterns, :id, :name, {include_blank: '指定なし'} %></td>
            <td><%= f.collection_select :day10, @work_patterns, :id, :name, {include_blank: '指定なし'} %></td>
            <td><%= f.collection_select :day11, @work_patterns, :id, :name, {include_blank: '指定なし'} %></td>
            <td><%= f.collection_select :day12, @work_patterns, :id, :name, {include_blank: '指定なし'} %></td>
            <td><%= f.collection_select :day13, @work_patterns, :id, :name, {include_blank: '指定なし'} %></td>
            <td><%= f.collection_select :day14, @work_patterns, :id, :name, {include_blank: '指定なし'} %></td>
            <td><%= f.collection_select :day15, @work_patterns, :id, :name, {include_blank: '指定なし'} %></td>
            <td><%= f.collection_select :day16, @work_patterns, :id, :name, {include_blank: '指定なし'} %></td>
            <td><%= f.collection_select :day17, @work_patterns, :id, :name, {include_blank: '指定なし'} %></td>
            <td><%= f.collection_select :day18, @work_patterns, :id, :name, {include_blank: '指定なし'} %></td>
            <td><%= f.collection_select :day19, @work_patterns, :id, :name, {include_blank: '指定なし'} %></td>
            <td><%= f.collection_select :day20, @work_patterns, :id, :name, {include_blank: '指定なし'} %></td>
            <td><%= f.collection_select :day21, @work_patterns, :id, :name, {include_blank: '指定なし'} %></td>
            <td><%= f.collection_select :day22, @work_patterns, :id, :name, {include_blank: '指定なし'} %></td>
            <td><%= f.collection_select :day23, @work_patterns, :id, :name, {include_blank: '指定なし'} %></td>
            <td><%= f.collection_select :day24, @work_patterns, :id, :name, {include_blank: '指定なし'} %></td>
            <td><%= f.collection_select :day25, @work_patterns, :id, :name, {include_blank: '指定なし'} %></td>
            <td><%= f.collection_select :day26, @work_patterns, :id, :name, {include_blank: '指定なし'} %></td>
            <td><%= f.collection_select :day27, @work_patterns, :id, :name, {include_blank: '指定なし'} %></td>
            <td><%= f.collection_select :day28, @work_patterns, :id, :name, {include_blank: '指定なし'} %></td>
            <% case @shift.month %>
                <% when 4 , 6 , 9 , 11 then %>
                    <td><%= f.collection_select :day29, @work_patterns, :id, :name, {include_blank: '指定なし'} %></td>
                    <td><%= f.collection_select :day30, @work_patterns, :id, :name, {include_blank: '指定なし'} %></td>
                <% when 1 , 3 , 5 , 7 , 8 , 12 then %>
                    <td><%= f.collection_select :day29, @work_patterns, :id, :name, {include_blank: '指定なし'} %></td>
                    <td><%= f.collection_select :day30, @work_patterns, :id, :name, {include_blank: '指定なし'} %></td>
                    <td><%= f.collection_select :day31, @work_patterns, :id, :name, {include_blank: '指定なし'} %></td>
            <% end %>
        </tr>
        <tr>
            <th>備考</th>
            <td><%= f.text_field :day1_note, maxlength: 4 %></td>
            <td><%= f.text_field :day2_note, maxlength: 4 %></td>
            <td><%= f.text_field :day3_note, maxlength: 4 %></td>
            <td><%= f.text_field :day4_note, maxlength: 4 %></td>
            <td><%= f.text_field :day5_note, maxlength: 4 %></td>
            <td><%= f.text_field :day6_note, maxlength: 4 %></td>
            <td><%= f.text_field :day7_note, maxlength: 4 %></td>
            <td><%= f.text_field :day8_note, maxlength: 4 %></td>
            <td><%= f.text_field :day9_note, maxlength: 4 %></td>
            <td><%= f.text_field :day10_note, maxlength: 4 %></td>
            <td><%= f.text_field :day11_note, maxlength: 4 %></td>
            <td><%= f.text_field :day12_note, maxlength: 4 %></td>
            <td><%= f.text_field :day13_note, maxlength: 4 %></td>
            <td><%= f.text_field :day14_note, maxlength: 4 %></td>
            <td><%= f.text_field :day15_note, maxlength: 4 %></td>
            <td><%= f.text_field :day16_note, maxlength: 4 %></td>
            <td><%= f.text_field :day17_note, maxlength: 4 %></td>
            <td><%= f.text_field :day18_note, maxlength: 4 %></td>
            <td><%= f.text_field :day19_note, maxlength: 4 %></td>
            <td><%= f.text_field :day20_note, maxlength: 4 %></td>
            <td><%= f.text_field :day21_note, maxlength: 4 %></td>
            <td><%= f.text_field :day22_note, maxlength: 4 %></td>
            <td><%= f.text_field :day23_note, maxlength: 4 %></td>
            <td><%= f.text_field :day24_note, maxlength: 4 %></td>
            <td><%= f.text_field :day25_note, maxlength: 4 %></td>
            <td><%= f.text_field :day26_note, maxlength: 4 %></td>
            <td><%= f.text_field :day27_note, maxlength: 4 %></td>
            <td><%= f.text_field :day28_note, maxlength: 4 %></td>
            <% case @shift.month %>
                <% when 4 , 6 , 9 , 11 then %>
                    <td><%= f.text_field :day29_note, maxlength: 4 %></td>
                    <td><%= f.text_field :day30_note, maxlength: 4 %></td>
                <% when 1 , 3 , 5 , 7 , 8 , 12 then %>
                    <td><%= f.text_field :day29_note, maxlength: 4 %></td>
                    <td><%= f.text_field :day30_note, maxlength: 4 %></td>
                    <td><%= f.text_field :day31_note, maxlength: 4 %></td>
                <% else %>
            <% end %>
        </tr>
        <tr>
            <td>
                <%= f.submit "スタッフを追加" %>
            </td>
        </tr>
        <tr>
            <th>日別勤務可能人数</th>
            <td><%= @headcount.day1_max %>~<%= @headcount.day1_min %></td>
            <td><%= @headcount.day2_max %>~<%= @headcount.day2_min %></td>
            <td><%= @headcount.day3_max %>~<%= @headcount.day3_min %></td>
            <td><%= @headcount.day4_max %>~<%= @headcount.day4_min %></td>
            <td><%= @headcount.day5_max %>~<%= @headcount.day5_min %></td>
            <td><%= @headcount.day6_max %>~<%= @headcount.day6_min %></td>
            <td><%= @headcount.day7_max %>~<%= @headcount.day7_min %></td>
            <td><%= @headcount.day8_max %>~<%= @headcount.day8_min %></td>
            <td><%= @headcount.day9_max %>~<%= @headcount.day9_min %></td>
            <td><%= @headcount.day10_max %>~<%= @headcount.day10_min %></td>
            <td><%= @headcount.day11_max %>~<%= @headcount.day11_min %></td>
            <td><%= @headcount.day12_max %>~<%= @headcount.day12_min %></td>
            <td><%= @headcount.day13_max %>~<%= @headcount.day13_min %></td>
            <td><%= @headcount.day14_max %>~<%= @headcount.day14_min %></td>
            <td><%= @headcount.day15_max %>~<%= @headcount.day15_min %></td>
            <td><%= @headcount.day16_max %>~<%= @headcount.day16_min %></td>
            <td><%= @headcount.day17_max %>~<%= @headcount.day17_min %></td>
            <td><%= @headcount.day18_max %>~<%= @headcount.day18_min %></td>
            <td><%= @headcount.day19_max %>~<%= @headcount.day19_min %></td>
            <td><%= @headcount.day20_max %>~<%= @headcount.day20_min %></td>
            <td><%= @headcount.day21_max %>~<%= @headcount.day21_min %></td>
            <td><%= @headcount.day22_max %>~<%= @headcount.day22_min %></td>
            <td><%= @headcount.day23_max %>~<%= @headcount.day23_min %></td>
            <td><%= @headcount.day24_max %>~<%= @headcount.day24_min %></td>
            <td><%= @headcount.day25_max %>~<%= @headcount.day25_min %></td>
            <td><%= @headcount.day26_max %>~<%= @headcount.day26_min %></td>
            <td><%= @headcount.day27_max %>~<%= @headcount.day27_min %></td>
            <td><%= @headcount.day28_max %>~<%= @headcount.day28_min %></td>
            <% case @shift.month %>
                <% when 4 , 6 , 9 , 11 then %>
                    <td><%= @headcount.day29_max %>~<%= @headcount.day29_min %></td>
                    <td><%= @headcount.day30_max %>~<%= @headcount.day30_min %></td>
                <% when 1 , 3 , 5 , 7 , 8 , 12 then %>
                    <td><%= @headcount.day29_max %>~<%= @headcount.day29_min %></td>
                    <td><%= @headcount.day30_max %>~<%= @headcount.day30_min %></td>
                    <td><%= @headcount.day31_max %>~<%= @headcount.day31_min %></td>
                <% else %>
            <% end %>
            <td nowrap><%= link_to "編集する", edit_shift_headcount_path(@shift.id) %></td>
        </tr>
        <tr>
            <td>
                <%= link_to "シフトを自動作成する", calculate_path %>
            </td>
        </tr>
    <% end %>
</table>